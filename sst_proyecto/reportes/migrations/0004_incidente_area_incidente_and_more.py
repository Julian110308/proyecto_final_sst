# Generated by Django 4.2.7 on 2026-02-16 18:29

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('reportes', '0003_incidente'),
    ]

    operations = [
        migrations.AddField(
            model_name='incidente',
            name='area_incidente',
            field=models.CharField(choices=[('TALLER', 'Taller'), ('LABORATORIO', 'Laboratorio'), ('AULAS', 'Aulas'), ('ADMINISTRATIVO', 'Área Administrativa'), ('CAFETERIA', 'Cafetería'), ('PARQUEADERO', 'Parqueadero'), ('MINA_DIDACTICA', 'Mina Didáctica'), ('ZONA_VERDE', 'Zona Verde'), ('CANCHA', 'Cancha Deportiva'), ('PASILLO', 'Pasillo / Corredor'), ('OTRO', 'Otro')], default='OTRO', help_text='Área donde ocurrió el incidente', max_length=50),
        ),
        migrations.AddField(
            model_name='incidente',
            name='documento_afectado',
            field=models.CharField(blank=True, help_text='Documento de la persona afectada', max_length=20),
        ),
        migrations.AddField(
            model_name='incidente',
            name='latitud',
            field=models.FloatField(blank=True, help_text='Latitud de la ubicación del incidente', null=True),
        ),
        migrations.AddField(
            model_name='incidente',
            name='longitud',
            field=models.FloatField(blank=True, help_text='Longitud de la ubicación del incidente', null=True),
        ),
        migrations.AddField(
            model_name='incidente',
            name='lugar_exacto',
            field=models.CharField(blank=True, help_text='Lugar preciso dentro del centro', max_length=300),
        ),
        migrations.AddField(
            model_name='incidente',
            name='persona_afectada',
            field=models.CharField(blank=True, help_text='Nombre de la persona afectada', max_length=200),
        ),
        migrations.AddField(
            model_name='incidente',
            name='riesgos_identificados',
            field=models.TextField(blank=True, help_text='Riesgos potenciales identificados en el área del incidente'),
        ),
        migrations.AddField(
            model_name='incidente',
            name='rol_afectado',
            field=models.CharField(blank=True, help_text='Rol de la persona afectada', max_length=50),
        ),
        migrations.AddField(
            model_name='incidente',
            name='testigos',
            field=models.TextField(blank=True, help_text='Nombres y datos de contacto de los testigos'),
        ),
        migrations.AddField(
            model_name='incidente',
            name='usuario_afectado',
            field=models.ForeignKey(blank=True, help_text='Usuario del sistema que fue afectado (si aplica)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='incidentes_como_afectado', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='incidente',
            name='version_accidente',
            field=models.TextField(blank=True, help_text='Relato detallado del accidente según testigos o involucrados'),
        ),
    ]
